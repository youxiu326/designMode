售罄-0;最终静态int NO QUARTER -1;最终静态int有QUARTER = 2;最终静态int SOLD=3;int状态=售罄;int数= 0;


###### 状态模式

```
oe:这就表示如果糖果机在“没有25分钱”的状态下,放进25分钱的硬币,就会进入“有25分钱”的状态。这就是状态的转换

Frank:噢!我懂了!如果我是在“有25分钱”的状态,就可以转动曲柄改变到“售出糖果”状态,或者退还

硬币回到“没有25分钱”状态。

Anne:就是这样!

Frank:这个状态图看起来并不太难。很明显我们有四个状态,而我认为我们也有四个动作,分别为:“投

入25分钱”、“退回25分钱”、“转动曲柄”和“发放糖果”。但是……当我们发放的时候,要在“售出糖

果”的状态中测试,是否糖果数目已经为零,来决定是否要进入到“糖果售罄”状态,或是进入“没有25分

钱”状态。所以实际上,我们有五个状态转换。

Anne:测试糖果数目是否为零,也意味着我们必须持续地追踪糖果的数目。任何时候只要机器给出一颗糖果,

都有可能是最后一颗糖果,如果是的话,我们就需要转换到“糖果售罄”状态。

Joe:也请不要忘了可以做没有意义的事,例如,当糖果机在“没有25分钱”状态的时候,试着去退回25分钱,

或者是在糖果机内同时放进两个25分钱。

Frank:噢!这我倒没想到;我们也要注意到这部分。

Joe:对于任何一个可能的动作,我们都要检查,看看我们所处的状态和动作是否合适。这没问题!让我们开

始将状态图映射成代码
```

糖果公司


1.所有的状态
    没有25分钱
    有25分钱
    糖果售罄
    售出糖果

2.所有课发生的动作
    投入25分钱
    返回25分钱
    转动曲柄
    发放糖果


NoQuarterState ->投入25分钱
HasQuarterState ->转动曲柄
SoldState -> 发放糖果
                ->NoQuarterState
                ->SoldOutState
